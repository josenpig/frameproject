<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xingji.frameproject.mybatis.dao.StockTransferDao">

    <resultMap type="com.xingji.frameproject.mybatis.entity.StockTransfer" id="StockTransferMap">
        <result property="id" column="id" jdbcType="VARCHAR"/>
        <result property="transferDate" column="transfer_date" jdbcType="TIMESTAMP"/>
        <result property="documentDate" column="document_date" jdbcType="TIMESTAMP"/>
        <result property="inwarehouse" column="inwarehouse" jdbcType="VARCHAR"/>
        <result property="outwarehouse" column="outwarehouse" jdbcType="VARCHAR"/>
        <result property="state" column="state" jdbcType="INTEGER"/>
        <result property="createPeople" column="create_people" jdbcType="VARCHAR"/>
        <result property="updatePeople" column="update_people" jdbcType="VARCHAR"/>
        <result property="vettingDate" column="vetting_date" jdbcType="TIMESTAMP"/>
        <result property="vettingName" column="vetting_name" jdbcType="VARCHAR"/>
        <result property="updateDate" column="update_date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="StockTransferCol">
        id, transfer_date,document_date, inwarehouse, outwarehouse, state, create_people, update_people, vetting_date, vetting_name, update_date    </sql>

    <!--查询单个-->
    <select id="queryById" resultMap="StockTransferMap">
        select
        <include refid="StockTransferCol"/>
        from frameproject.stock_transfer
        where id = #{id}
    </select>

    <!--查询所有-->
    <select id="queryAll" resultMap="StockTransferMap">
        select
        <include refid="StockTransferCol"></include>
        from (select * from frameproject.stock_transfer where work_point_id = #{workPointId})
    </select>

    <!--通过实体作为或者条件查询-->
    <select id="queryOrByPojo" resultMap="StockTransferMap">
        select
        <include refid="StockTransferCol"></include>
        from (select * from frameproject.stock_transfer where work_point_id = #{workPointId})
        <where>
            <if test="id != null and id != ''">
                or id like '%'||#{id}||'%'
            </if>
            <if test="transferDate != null">
                or transfer_date like '%'||#{transferDate}||'%'
            </if>
            <if test="
documentDate != null">
                or
                document_date like '%'||#{
documentDate}||'%'
            </if>
            <if test="inwarehouse != null and inwarehouse != ''">
                or inwarehouse like '%'||#{inwarehouse}||'%'
            </if>
            <if test="outwarehouse != null and outwarehouse != ''">
                or outwarehouse like '%'||#{outwarehouse}||'%'
            </if>
            <if test="state != null">
                or state like '%'||#{state}||'%'
            </if>
            <if test="createPeople != null and createPeople != ''">
                or create_people like '%'||#{createPeople}||'%'
            </if>
            <if test="updatePeople != null and updatePeople != ''">
                or update_people like '%'||#{updatePeople}||'%'
            </if>
            <if test="vettingDate != null">
                or vetting_date like '%'||#{vettingDate}||'%'
            </if>
            <if test="vettingName != null and vettingName != ''">
                or vetting_name like '%'||#{vettingName}||'%'
            </if>
            <if test="updateDate != null">
                or update_date like '%'||#{updateDate}||'%'
            </if>
        </where>
    </select>

    <!--通过实体作为并且条件查询-->
    <select id="queryAndByPojo" resultMap="StockTransferMap">
        select
        <include refid="StockTransferCol"></include>
        from frameproject.stock_transfer
        <where>
            <if test="id != null and id != ''">
                and id = #{id}
            </if>
            <if test="transferDate != null">
                and transfer_date = #{transferDate}
            </if>
            <if test="
documentDate != null">
                and
                document_date = #{
documentDate}
            </if>
            <if test="inwarehouse != null and inwarehouse != ''">
                and inwarehouse = #{inwarehouse}
            </if>
            <if test="outwarehouse != null and outwarehouse != ''">
                and outwarehouse = #{outwarehouse}
            </if>
            <if test="state != null">
                and state = #{state}
            </if>
            <if test="createPeople != null and createPeople != ''">
                and create_people = #{createPeople}
            </if>
            <if test="updatePeople != null and updatePeople != ''">
                and update_people = #{updatePeople}
            </if>
            <if test="vettingDate != null">
                and vetting_date = #{vettingDate}
            </if>
            <if test="vettingName != null and vettingName != ''">
                and vetting_name = #{vettingName}
            </if>
            <if test="updateDate != null">
                and update_date = #{updateDate}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert">
        insert into frameproject.stock_transfer(<include refid="StockTransferCol"/>)
        value (#{id},#{transferDate},#{documentDate},#{inwarehouse},#{outwarehouse},#{state},#{createPeople},#{updatePeople},#{vettingDate},#{vettingName},#{updateDate})
    </insert>

    <!--批量新增数据 -->
    <insert id="insertBatch">
        <foreach collection="list" item="entity" open="begin" separator=";" close=";end;">
            insert into frameproject.stock_transfer
            <trim prefix="(" suffix=")" suffixOverrides=",">
                id,
                <if test="entity.transferDate != null">
                    transfer_date,
                </if>
                <if test="entity.
documentDate != null">

                    document_date,
                </if>
                <if test="entity.inwarehouse != null">
                    inwarehouse,
                </if>
                <if test="entity.outwarehouse != null">
                    outwarehouse,
                </if>
                <if test="entity.state != null">
                    state,
                </if>
                <if test="entity.createPeople != null">
                    create_people,
                </if>
                <if test="entity.updatePeople != null">
                    update_people,
                </if>
                <if test="entity.vettingDate != null">
                    vetting_date,
                </if>
                <if test="entity.vettingName != null">
                    vetting_name,
                </if>
                <if test="entity.updateDate != null">
                    update_date,
                </if>
            </trim>
            values
            <trim prefix="(" suffix=")" suffixOverrides=",">
                SEQ_stock_transfer.NEXTVAL,
                <if test="entity.transferDate != null">
                    #{entity.transferDate},
                </if>
                <if test="entity.
documentDate != null">
                    #{entity.
documentDate},
                </if>
                <if test="entity.inwarehouse != null">
                    #{entity.inwarehouse},
                </if>
                <if test="entity.outwarehouse != null">
                    #{entity.outwarehouse},
                </if>
                <if test="entity.state != null">
                    #{entity.state},
                </if>
                <if test="entity.createPeople != null">
                    #{entity.createPeople},
                </if>
                <if test="entity.updatePeople != null">
                    #{entity.updatePeople},
                </if>
                <if test="entity.vettingDate != null">
                    #{entity.vettingDate},
                </if>
                <if test="entity.vettingName != null">
                    #{entity.vettingName},
                </if>
                <if test="entity.updateDate != null">
                    #{entity.updateDate},
                </if>
            </trim>
        </foreach>
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update frameproject.stock_transfer
        <set>
            <if test="transferDate != null">
                transfer_date = #{transferDate},
            </if>
            <if test="
documentDate != null">

                document_date = #{
documentDate},
            </if>
            <if test="inwarehouse != null">
                inwarehouse = #{inwarehouse},
            </if>
            <if test="outwarehouse != null">
                outwarehouse = #{outwarehouse},
            </if>
            <if test="state != null">
                state = #{state},
            </if>
            <if test="createPeople != null">
                create_people = #{createPeople},
            </if>
            <if test="updatePeople != null">
                update_people = #{updatePeople},
            </if>
            <if test="vettingDate != null">
                vetting_date = #{vettingDate},
            </if>
            <if test="vettingName != null">
                vetting_name = #{vettingName},
            </if>
            <if test="updateDate != null">
                update_date = #{updateDate},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--批量修改数据-->
    <update id="updateBatch">
        <foreach collection="list" item="entity" open="begin" separator=";" close=";end;">
            update frameproject.stock_transfer
            <set>
                <if test="entity.transferDate != null">
                    transfer_date = #{entity.transferDate},
                </if>
                <if test="entity.
documentDate != null">

                    document_date = #{entity.
documentDate},
                </if>
                <if test="entity.inwarehouse != null">
                    inwarehouse = #{entity.inwarehouse},
                </if>
                <if test="entity.outwarehouse != null">
                    outwarehouse = #{entity.outwarehouse},
                </if>
                <if test="entity.state != null">
                    state = #{entity.state},
                </if>
                <if test="entity.createPeople != null">
                    create_people = #{entity.createPeople},
                </if>
                <if test="entity.updatePeople != null">
                    update_people = #{entity.updatePeople},
                </if>
                <if test="entity.vettingDate != null">
                    vetting_date = #{entity.vettingDate},
                </if>
                <if test="entity.vettingName != null">
                    vetting_name = #{entity.vettingName},
                </if>
                <if test="entity.updateDate != null">
                    update_date = #{entity.updateDate},
                </if>
            </set>
            where id = #{entity.id}
        </foreach>
    </update>

    <!--通过主键删除数据-->
    <delete id="deleteById">
        delete
        from frameproject.stock_transfer
        where id = #{id}
    </delete>

    <!--通过主键列表批量删除数据-->
    <delete id="deleteBatch">
        delete from frameproject.stock_transfer where id in
        <foreach collection="list" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>

    <!--通过实体列表批量删除数据-->
    <delete id="deleteBatchByEntities">
        delete from frameproject.stock_transfer where id in
        <foreach collection="list" item="entity" open="(" separator="," close=")">
            #{entity.id}
        </foreach>
    </delete>
</mapper>

